{"ast":null,"code":"import _slicedToArray from\"D:\\\\Coding\\\\all-bcs-work\\\\roommate-repo\\\\roommate-tracker\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";// Import key components and forms\nimport React,{useState,useRef}from\"react\";import Form from\"react-validation/build/form\";import Input from\"react-validation/build/input\";import CheckButton from\"react-validation/build/button\";import{isEmail}from\"validator\";import\"./style.css\";// Import Login Auth Services\nimport AuthService from\"../services/auth.service\";// Create functions to validate the inputs\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var validateEmpty=function validateEmpty(input){if(!input){return/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:\"This field is required\"});};};var validateEmail=function validateEmail(input){if(!isEmail(input)){return/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:\"Please enter a valid email\"});};};var validateUsername=function validateUsername(input){if(input.length<3||input.length>40){return/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:\"Username must be between 3 and 40 characters\"});};};var validatePassword=function validatePassword(input){if(input.length<6){return/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:\"Password must be at least 6 characters\"});};};// Create the page for the Registration page, including front end js and html\nvar Register=function Register(){// Reference links to the form and the button\nvar form=useRef();var checkBtn=useRef();// Establish state elements for the Home model\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];// Establish state elements for front end functionality of button and alerts\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),successful=_useState8[0],setSuccessful=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),message=_useState10[0],setMessage=_useState10[1];// Create functions for changing the state element values\nvar changeUsername=function changeUsername(event){setUsername(event.target.value);};var changeEmail=function changeEmail(event){setEmail(event.target.value);};var changePassword=function changePassword(event){setPassword(event.target.value);};// Create function that submits the new home model value to the auth service\nvar registerHome=function registerHome(event){event.preventDefault();setMessage(\"\");setSuccessful(false);form.current.validateAll();console.log(username);console.log(password);// Send the new values to the auth service\nif(checkBtn.current.context._errors.length===0){AuthService.register(username,email,password).then(function(response){setMessage(response.data.message);setSuccessful(true);},function(error){setMessage(error.data.message);setSuccessful(false);});};};// Return the html for the page itself\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card card-container mx-auto my-5\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"profile-img-card\",src:\"/assets/img/addUser/addUserICON-96.png\",alt:\"profile-img\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:registerHome,ref:form,children:[!successful&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Address or Home Nickname\"}),/*#__PURE__*/_jsx(Input,{className:\"form-control\",type:\"text\",name:\"username\",value:username,onChange:changeUsername,validations:[validateEmpty,validateUsername]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Master Email for Account\"}),/*#__PURE__*/_jsx(Input,{className:\"form-control\",type:\"text\",name:\"email\",value:email,onChange:changeEmail,validations:[validateEmpty,validateEmail]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(Input,{className:\"form-control\",type:\"text\",name:\"password\",value:password,onChange:changePassword,validations:[validateEmpty,validatePassword]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary btn-block\",children:\"Sign Up\"})})]}),message&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:successful?\"alert alert-success\":\"alert alert-danger\",role:\"alert\",children:message}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/login\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/assets/img/Login/loginICON-72.png\",alt:\"Login button image\"})})})]}),/*#__PURE__*/_jsx(CheckButton,{style:{display:\"none\"},ref:checkBtn})]})]})});};export default Register;","map":{"version":3,"sources":["D:/Coding/all-bcs-work/roommate-repo/roommate-tracker/src/pages/Register.js"],"names":["React","useState","useRef","Form","Input","CheckButton","isEmail","AuthService","validateEmpty","input","validateEmail","validateUsername","length","validatePassword","Register","form","checkBtn","username","setUsername","email","setEmail","password","setPassword","successful","setSuccessful","message","setMessage","changeUsername","event","target","value","changeEmail","changePassword","registerHome","preventDefault","current","validateAll","console","log","context","_errors","register","then","response","data","error","display"],"mappings":"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","sourcesContent":["// Import key components and forms\r\nimport React, { useState, useRef } from \"react\";\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport CheckButton from \"react-validation/build/button\";\r\nimport {isEmail} from \"validator\";\r\nimport \"./style.css\";\r\n\r\n// Import Login Auth Services\r\nimport AuthService from \"../services/auth.service\";\r\n\r\n// Create functions to validate the inputs\r\nconst validateEmpty = function(input) {\r\n    if(!input) {\r\n        return (\r\n            <div className=\"alert alert-danger\" role=\"alert\">This field is required</div>\r\n        );\r\n    };\r\n};\r\n\r\nconst validateEmail = function(input) {\r\n    if(!isEmail(input)) {\r\n        return (\r\n            <div className=\"alert alert-danger\" role=\"alert\">Please enter a valid email</div>\r\n        );\r\n    };\r\n};\r\n\r\nconst validateUsername = function(input) {\r\n    if(input.length < 3 || input.length > 40) {\r\n        return (\r\n            <div className=\"alert alert-danger\" role=\"alert\">Username must be between 3 and 40 characters</div>\r\n        );\r\n    };\r\n};\r\n\r\nconst validatePassword = function(input) {\r\n    if(input.length < 6) {\r\n        return (\r\n            <div className=\"alert alert-danger\" role=\"alert\">Password must be at least 6 characters</div>\r\n        );\r\n    };\r\n};\r\n\r\n\r\n// Create the page for the Registration page, including front end js and html\r\nconst Register = () => {\r\n    // Reference links to the form and the button\r\n    const form = useRef();\r\n    const checkBtn = useRef();\r\n\r\n    // Establish state elements for the Home model\r\n    const [username, setUsername] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n    // Establish state elements for front end functionality of button and alerts\r\n    const [successful, setSuccessful] = useState(false);\r\n    const [message, setMessage] = useState(\"\");\r\n\r\n    // Create functions for changing the state element values\r\n    const changeUsername = function (event) {\r\n        setUsername(event.target.value);\r\n    };\r\n\r\n    const changeEmail = function (event) {\r\n        setEmail(event.target.value);\r\n    };\r\n\r\n    const changePassword = function (event) {\r\n        setPassword(event.target.value);\r\n    };\r\n\r\n    // Create function that submits the new home model value to the auth service\r\n    const registerHome = function (event) {\r\n        event.preventDefault();\r\n\r\n        setMessage(\"\");\r\n        setSuccessful(false);\r\n\r\n        form.current.validateAll();\r\n\r\n        console.log(username);\r\n        console.log(password);\r\n\r\n        // Send the new values to the auth service\r\n        if (checkBtn.current.context._errors.length === 0) {\r\n            AuthService.register(username, email, password)\r\n            .then((response) => {\r\n                setMessage(response.data.message);\r\n                setSuccessful(true);\r\n            }, (error) =>{\r\n                setMessage(error.data.message);\r\n                setSuccessful(false);\r\n            });\r\n        };\r\n    };\r\n\r\n    // Return the html for the page itself\r\n    return (\r\n    \r\n        <div className=\"col-md-12\">\r\n            <div className=\"card card-container mx-auto my-5\">\r\n\r\n                {/* Branding */}\r\n                <img className=\"profile-img-card\" src=\"/assets/img/addUser/addUserICON-96.png\" alt=\"profile-img\" /> \r\n\r\n                {/* Use the react build form for registration information input */}\r\n                <Form onSubmit={registerHome} ref={form}>\r\n                    {!successful && (\r\n                        <div>\r\n                            {/* Input for the Home model username */}\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"username\">Address or Home Nickname</label>\r\n                                <Input className=\"form-control\"\r\n                                type=\"text\"\r\n                                name=\"username\"\r\n                                value={username}\r\n                                onChange={changeUsername}\r\n                                validations={[validateEmpty, validateUsername]}\r\n                                />\r\n                            </div>\r\n\r\n                            {/* Input for the Home model email */}\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"email\">Master Email for Account</label>\r\n                                <Input className=\"form-control\"\r\n                                type=\"text\"\r\n                                name=\"email\"\r\n                                value={email}\r\n                                onChange={changeEmail}\r\n                                validations={[validateEmpty, validateEmail]}\r\n                                />\r\n                            </div>\r\n\r\n                            {/* Input for the Home model password */}\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"password\">Password</label>\r\n                                <Input className=\"form-control\"\r\n                                type=\"text\"\r\n                                name=\"password\"\r\n                                value={password}\r\n                                onChange={changePassword}\r\n                                validations={[validateEmpty, validatePassword]}\r\n                                />\r\n                            </div>\r\n                        \r\n                            <div className=\"form-group\">\r\n                                <button className=\"btn btn-primary btn-block\">Sign Up</button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* On submit, return a message. If successful, provide a link to the login page. If failure, send error message */}\r\n                    {message && (\r\n                        <div className=\"form-group\">\r\n                            <div className={ successful ? \"alert alert-success\" : \"alert alert-danger\"} role=\"alert\">{message}</div>\r\n                            <div className=\"d-flex justify-content-center\">\r\n                                <a href=\"/login\">\r\n                                    <img src=\"/assets/img/Login/loginICON-72.png\" alt=\"Login button image\" />\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    \r\n                    <CheckButton style={{ display: \"none\" }} ref={checkBtn} />\r\n                </Form>\r\n            </div>\r\n        </div>\r\n        \r\n    )\r\n};\r\n\r\nexport default Register;"]},"metadata":{},"sourceType":"module"}