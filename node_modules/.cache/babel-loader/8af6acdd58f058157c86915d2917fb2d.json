{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\asldf\\\\Desktop\\\\all-bcs-work\\\\roommate-tracker\\\\roommate-manager\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";// Import key components and forms\nimport React,{useState,useRef}from\"react\";import Form from\"react-validation/build/form\";import Input from\"react-validation/build/input\";import CheckButton from\"react-validation/build/button\";import{isEmail}from\"validator\";import\"./style.css\";// Import Login Auth Services\nimport AuthService from\"../services/auth.service\";// Create functions to validate the inputs\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var validateEmpty=function validateEmpty(input){if(!input){return/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:\"This field is required\"});};};var validateEmail=function validateEmail(input){if(!isEmail(input)){return/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:\"Please enter a valid email\"});};};var validateUsername=function validateUsername(input){if(input.length<3||input.length>40){return/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:\"Username must be between 3 and 40 characters\"});};};var validatePassword=function validatePassword(input){if(input.length<6){return/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:\"Password must be at least 6 characters\"});};};// Create the page for the Registration page, including front end js and html\nvar Register=function Register(){// Reference links to the form and the button\nvar form=useRef();var checkBtn=useRef();// Establish state elements for the Home model\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];// Establish state elements for front end functionality of button and alerts\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),successful=_useState8[0],setSuccessful=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),message=_useState10[0],setMessage=_useState10[1];// Create functions for changing the state element values\nvar changeUsername=function changeUsername(event){setUsername(event.target.value);};var changeEmail=function changeEmail(event){setEmail(event.target.value);};var changePassword=function changePassword(event){setPassword(event.target.value);};// Create function that submits the new home model value to the auth service\nvar registerHome=function registerHome(event){event.preventDefault();setMessage(\"\");setSuccessful(false);form.current.validateAll();// Send the new values to the auth service\nif(checkBtn.current.context._errors.length===0){AuthService.register(username,email,password).then(function(response){setMessage(response.data.message);setSuccessful(true);},function(error){setMessage(error.data.message);setSuccessful(false);});};};// Return the html for the page itself\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card card-container mx-auto my-5\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"profile-img-card\",src:\"/assets/img/addUser/addUserICON-96.png\",alt:\"profile-img\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:registerHome,ref:form,children:[!successful&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Address or Home Nickname\"}),/*#__PURE__*/_jsx(Input,{className:\"form-control\",type:\"text\",name:\"username\",value:username,onChange:changeUsername,validations:[validateEmpty,validateUsername]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Master Email for Account\"}),/*#__PURE__*/_jsx(Input,{className:\"form-control\",type:\"text\",name:\"email\",value:email,onChange:changeEmail,validations:[validateEmpty,validateEmail]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(Input,{className:\"form-control\",type:\"text\",name:\"password\",value:password,onChange:changePassword,validations:[validateEmpty,validatePassword]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary btn-block\",children:\"Sign Up\"})})]}),message&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:successful?\"alert alert-success\":\"alert alert-danger\",role:\"alert\",children:message}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/login\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/assets/img/Login/loginICON-72.png\",alt:\"Login button image\"})})})]}),/*#__PURE__*/_jsx(CheckButton,{style:{display:\"none\"},ref:checkBtn})]})]})});};export default Register;","map":{"version":3,"sources":["C:/Users/asldf/Desktop/all-bcs-work/roommate-tracker/roommate-manager/src/pages/Register.js"],"names":["React","useState","useRef","Form","Input","CheckButton","isEmail","AuthService","validateEmpty","input","validateEmail","validateUsername","length","validatePassword","Register","form","checkBtn","username","setUsername","email","setEmail","password","setPassword","successful","setSuccessful","message","setMessage","changeUsername","event","target","value","changeEmail","changePassword","registerHome","preventDefault","current","validateAll","context","_errors","register","then","response","data","error","display"],"mappings":"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","sourcesContent":["// Import key components and forms\nimport React, { useState, useRef } from \"react\";\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport CheckButton from \"react-validation/build/button\";\nimport {isEmail} from \"validator\";\nimport \"./style.css\";\n\n// Import Login Auth Services\nimport AuthService from \"../services/auth.service\";\n\n// Create functions to validate the inputs\nconst validateEmpty = function(input) {\n    if(!input) {\n        return (\n            <div className=\"alert alert-danger\" role=\"alert\">This field is required</div>\n        );\n    };\n};\n\nconst validateEmail = function(input) {\n    if(!isEmail(input)) {\n        return (\n            <div className=\"alert alert-danger\" role=\"alert\">Please enter a valid email</div>\n        );\n    };\n};\n\nconst validateUsername = function(input) {\n    if(input.length < 3 || input.length > 40) {\n        return (\n            <div className=\"alert alert-danger\" role=\"alert\">Username must be between 3 and 40 characters</div>\n        );\n    };\n};\n\nconst validatePassword = function(input) {\n    if(input.length < 6) {\n        return (\n            <div className=\"alert alert-danger\" role=\"alert\">Password must be at least 6 characters</div>\n        );\n    };\n};\n\n\n// Create the page for the Registration page, including front end js and html\nconst Register = () => {\n    // Reference links to the form and the button\n    const form = useRef();\n    const checkBtn = useRef();\n\n    // Establish state elements for the Home model\n    const [username, setUsername] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    // Establish state elements for front end functionality of button and alerts\n    const [successful, setSuccessful] = useState(false);\n    const [message, setMessage] = useState(\"\");\n\n    // Create functions for changing the state element values\n    const changeUsername = function (event) {\n        setUsername(event.target.value);\n    };\n\n    const changeEmail = function (event) {\n        setEmail(event.target.value);\n    };\n\n    const changePassword = function (event) {\n        setPassword(event.target.value);\n    };\n\n    // Create function that submits the new home model value to the auth service\n    const registerHome = function (event) {\n        event.preventDefault();\n\n        setMessage(\"\");\n        setSuccessful(false);\n\n        form.current.validateAll();\n\n        // Send the new values to the auth service\n        if (checkBtn.current.context._errors.length === 0) {\n            AuthService.register(username, email, password)\n            .then((response) => {\n                setMessage(response.data.message);\n                setSuccessful(true);\n            }, (error) =>{\n                setMessage(error.data.message);\n                setSuccessful(false);\n            });\n        };\n    };\n\n    // Return the html for the page itself\n    return (\n    \n        <div className=\"col-md-12\">\n            <div className=\"card card-container mx-auto my-5\">\n\n                {/* Branding */}\n                <img className=\"profile-img-card\" src=\"/assets/img/addUser/addUserICON-96.png\" alt=\"profile-img\" /> \n\n                {/* Use the react build form for registration information input */}\n                <Form onSubmit={registerHome} ref={form}>\n                    {!successful && (\n                        <div>\n                            {/* Input for the Home model username */}\n                            <div className=\"form-group\">\n                                <label htmlFor=\"username\">Address or Home Nickname</label>\n                                <Input className=\"form-control\"\n                                type=\"text\"\n                                name=\"username\"\n                                value={username}\n                                onChange={changeUsername}\n                                validations={[validateEmpty, validateUsername]}\n                                />\n                            </div>\n\n                            {/* Input for the Home model email */}\n                            <div className=\"form-group\">\n                                <label htmlFor=\"email\">Master Email for Account</label>\n                                <Input className=\"form-control\"\n                                type=\"text\"\n                                name=\"email\"\n                                value={email}\n                                onChange={changeEmail}\n                                validations={[validateEmpty, validateEmail]}\n                                />\n                            </div>\n\n                            {/* Input for the Home model password */}\n                            <div className=\"form-group\">\n                                <label htmlFor=\"password\">Password</label>\n                                <Input className=\"form-control\"\n                                type=\"text\"\n                                name=\"password\"\n                                value={password}\n                                onChange={changePassword}\n                                validations={[validateEmpty, validatePassword]}\n                                />\n                            </div>\n                        \n                            <div className=\"form-group\">\n                                <button className=\"btn btn-primary btn-block\">Sign Up</button>\n                            </div>\n                        </div>\n                    )}\n\n                    {/* On submit, return a message. If successful, provide a link to the login page. If failure, send error message */}\n                    {message && (\n                        <div className=\"form-group\">\n                            <div className={ successful ? \"alert alert-success\" : \"alert alert-danger\"} role=\"alert\">{message}</div>\n                            <div className=\"d-flex justify-content-center\">\n                                <a href=\"/login\">\n                                    <img src=\"/assets/img/Login/loginICON-72.png\" alt=\"Login button image\" />\n                                </a>\n                            </div>\n                        </div>\n                    )}\n                    \n                    <CheckButton style={{ display: \"none\" }} ref={checkBtn} />\n                </Form>\n            </div>\n        </div>\n        \n    )\n};\n\nexport default Register;"]},"metadata":{},"sourceType":"module"}